services:
  taskmanager:
    build:
      context: .
      dockerfile: Dockerfile.prod
    container_name: taskmanager-prod
    ports:
      - "80:5000"  # Доступ на 80 порту
    environment:
      - FLASK_ENV=production
      - DATABASE_URL=sqlite:////app/backend/data/production.db
      - SECRET_KEY=${SECRET_KEY:-your-secret-key-change-in-production}
      - JWT_SECRET_KEY=${JWT_SECRET_KEY:-your-jwt-secret-key-change}
    volumes:
      - taskmanager-data:/app/backend/data
    restart: always

volumes:
  taskmanager-data:
